函数式编程近期再度被热炒，各社区对函数式编程的讲解和推崇也是层出不穷。好像要是不知道函数式编程，就没法跟大佬们愉快的玩耍了。  
这一高大上的概念听起来似乎非常晦涩难懂让人摸不到头脑，然而实际上，也确实如此……  
本文记录对函数式编程密切相关的两个概念：柯里化与反柯里化的个人理解。

### 从函数式编程说起
函数式编程有被称为函数范式，是一种编程范式，一种编程思想。  
函数式的核心思想就是通过“纯函数”进行过程抽象，使代码逻辑清晰、降低耦合、便于维护。  
这里出现了一个新概念：“纯函数”。纯函数即无状态、无副作用、幂等、无关时序的函数，指的是函数的输出完全由输入所决定，运行过程不依赖于系统的状态和上下文环境，运行过程不改变它作用域之外的环境状态。  
而本文要说的柯里化(currying)与反柯里(decurrying)化有什么关系呢？  
柯里化和反柯里化是函数式编程的一个特性，是函数提纯的一种手段。

### 柯里化(curring)
柯里化又称*部分求值*，维基百科上的定义：
> 是把接受多个参数的函数变换成接受一个单一参数的函数，并且返回接受余下的参数并且返回结果的新函数的技术。 

通俗来说就是不会立刻求值，而是到了需要的时候再去求值。  
柯里化有3个常见作用：
1. 参数复用
2. 提前返回
3. 延迟计算/运行
#### 一个通用的柯里化函数原型：
```js
var curry = function (fn) {
  var _args = []
  return function _fn() {
     // 如果没有传入参数就开始求值，
     // 否则将参数放入闭包_args中，并继续curring
    if (arguments.length === 0) {
      return fn.apply(this, _args)
    } else {
      [].push.apply(_args, arguments)
      return _fn
    }
  }
}

// 测试用例
var plus = curry(function () {
  var result = 0
  for (var i = 0; i < arguments.length; i++) {
    result += arguments[i]
  }
  return result
})
plus(1)(2, 3, 4)() // 等价于plus(1, 2)(3, 4)() //10
```

### 参考资料
- [JavaScript 中的“纯函数”](https://www.h5jun.com/post/pure-function.html)
- [高阶函数对系统的“提纯”](https://www.h5jun.com/post/higher-order-function-play-with-pure-function.html)
- [简单理解JavaScript中的柯里化和反柯里化](https://rockjins.js.org/2017/02/15/curring-uncurring/)
- [Javascript中有趣的反柯里化技术](http://www.alloyteam.com/2013/08/javascript-zhong-you-qu-di-fan-ke-li-hua-ji-shu/#prettyPhoto)
- [函数式编程之柯里化与反柯里化](http://louiszhai.github.io/2015/12/16/currying/)
